---
import Layout from '@/layouts/Layout.astro'
import MyCoursesFeature from '@/features/courses'
import { getStudentReport } from '@/server/services/courses'

const { user } = Astro.locals

const reports = await getStudentReport({
  userId: user.id
})
---

<Layout>
  <MyCoursesFeature
    client:load
    params={Astro.params}
    url={Astro.url}
    user={Astro.locals.user}
    data={reports?.data ?? []}
  />
</Layout>
