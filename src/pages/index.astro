---
import OverviewFeature from '@/features/overview'
import Layout from '../layouts/Layout.astro'
import { getCourses } from '@/server/services/courses'

const { user } = Astro.locals

const courses = await getCourses(user.id, {
  page: 1,
  size: 999,
  isPublished: true
})
---

<Layout>
  <OverviewFeature
    client:load
    params={Astro.params}
    url={Astro.url}
    user={Astro.locals.user}
    defaultCourses={courses.data}
  />
</Layout>
